<!DOCTYPE html>
<html lang="ja-JP">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" type="image/x-icon" href="https://github.com/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/style.css" media="all" />
    <link rel="alternate" type="application/rss+xml" title="notions:iaarchiver - feed" href="/index.xml" />
    <title>notions:iaarchiver</title> 
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-42298279-1', 'iaarchiver.github.io');
      ga('send', 'pageview');
    </script>
</head>
  <body>
    <!-- .sidebar -->
    <div class="sidebar">
      <ul class="sidebar-nav">
        <li><a class="hide-button"><span class="websymbolsliga icon closefill"></span></a></li>
        <li><a class="show-archive"><span class="websymbolsliga icon tag"></span></a></li>
      </ul>
      <hr>
      <input id="sidebar-search" placeholder=" search keywords..." />
      <hr>
      <ul class="sidebar-list">
      
        <li>
          <a href="/posts/2013-07-08-1730.html">
            Ubuntuでmpdのセットアップ
            <span class="date">2013-07-08 17:30</span>
            <span class="tag">mpd,ubuntu</span>
          </a>
        </li>
      
        <li>
          <a href="/posts/2013-07-08-2117.html">
            grunt-contrib-copyでのパス指定
            <span class="date">2013-07-08 21:17</span>
            <span class="tag">grunt,js</span>
          </a>
        </li>
      
        <li>
          <a href="/posts/2013-07-09-0731.html">
            GuitarPro6を64bit環境にインストールする
            <span class="date">2013-07-09 07:31</span>
            <span class="tag">guitarpro,ubuntu</span>
          </a>
        </li>
      
        <li>
          <a href="/posts/2013-07-09-1703.html">
            yacreader（のソースコード）をいじる
            <span class="date">2013-07-09 17:03</span>
            <span class="tag">ubuntu,yacreader</span>
          </a>
        </li>
      
        <li>
          <a href="/posts/2013-07-11-2000.html">
            Ubuntu13.04インストールおぼえがき
            <span class="date">2013-07-11 20:00</span>
            <span class="tag">ubuntu</span>
          </a>
        </li>
      
        <li>
          <a href="/posts/2013-07-11-2152.html">
            Ubuntu13.04でTimeCapsuleをマウントする
            <span class="date">2013-07-11 21:52</span>
            <span class="tag">ubuntu,timecapsule</span>
          </a>
        </li>
      
        <li>
          <a href="/posts/2013-07-29-0152.html">
            LinuxからDayOneの読み書きを行う
            <span class="date">2013-07-29 01:52</span>
            <span class="tag">dayone,jrnl</span>
          </a>
        </li>
      
      </ul>
    </div>
    <!-- [END] .sidebar -->

    <!-- .wrapper -->
    <div class="wrapper" style="height:100%">
    <!-- .logo -->
    <div class="logo">notions :: iaarchiver</div>
    <!-- [END] .logo -->
    <div class="post">
  <div class="post-info">
  <h1><a href="/posts/2013-07-11-2000.html">Ubuntu13.04インストールおぼえがき</a></h1>
  <span class="date">July 11th 2013</span>
  <span class="author"></span>
  <hr>
  </div>
  <div class="post-content">
    <h2>USBメモリからインストール</h2>
<p><a href="http://www.ubuntu.com/download/desktop/create-a-usb-stick-on-ubuntu">http://www.ubuntu.com/download/desktop/create-a-usb-stick-on-ubuntu</a><br>ブート可能なUSBメモリの作成方法が詳しく紹介されています．</p>
<h2>インストール後にまずすること</h2>
<ul>
<li><strong>Software Updaterでアップデートする．</strong><br>OS本体のインストールより時間がかかります．</li>
<li><strong>AdditionalDriversをインストール</strong><br>System Settings &gt; Software &amp; Updates &gt; Additional Driversから環境にあったドライバをインストールします．Nvidiaを使用しているなら再起動でNvidia X Server Settingsから細かい環境設定が行えるようになります．</li>
<li><strong>日本語環境の構築</strong><br>Language Support &gt; install/Remove LanguagesからJapaneseを選択してインストールします．デフォルトを日本語に変更したい場合は，Languages for menus and windowsで日本語を先頭にドラッグし，Apply System-Wideを押すと再起動後に変更されます．</li>
<li><strong>日本語入力を可能にする</strong><br><code>$ sudo apt-get install ibus-mozc</code>をibus-mozcをインストール後，Language Support &gt; Keyboard input method system にibusを選択すると起動時にibusを起動してくれます．</li>
</ul>
<h2>fstabの編集</h2>
<p>起動時に自動的にマウントさせるドライブを設定します．</p>
<ul>
<li><h3>HDDを/homeにマウントする</h3>
<p>ext4でフォーマットした<code>/dev/sdb1</code>というパスのパーティションを/homeとしてマウントさせたい場合，以下のような設定をfstabに加えます．</p>
<pre><code>  <span class="regexp">/dev/sdb1                  /</span>home          ext4      defaults,user_xattr      <span class="number">0</span>    <span class="number">0</span></code></pre>
</li>
<li><h3>TimeCapsuleをマウントする</h3>
<p>参考：<a href="http://iaarchiver.github.io/posts/2013-07-11-2152.html">Ubuntu13.04でTimeCapsuleをマウントする</a></p>
</li>
</ul>
<p>ネットワーク上にあるTimeCapsuleの共有ディスクを起動時にマウントさせるには/etc/fstabに以下を追加します．</p>
<pre><code>/<span class="regexp">/TimeCapsule.local/</span><span class="constant">TimeCapsule</span>/  <span class="regexp">/media/timecapsule</span>  cifs  password=macintosh,rw,iocharset=utf8,file_mode=<span class="number">0777</span>,dir_mode=<span class="number">0777</span>,sec=ntlm</code></pre>
<p>* 12.10では必要ありませんでしたが13.04では<code>sec=ntlm</code>オプションが必要です．</p>
<ul>
<li><h3>NTFSディスクをマウントする</h3>
<p><code>/dev/sdc1</code>にあるntfsフォーマットのドライブをマウントさせる場合は以下を<code>/etc/fstab</code>に追加します．</p>
<pre><code>  <span class="regexp">/dev/sdc1                  /media/</span>ntfsdrive      ntfs      defaults      <span class="number">0</span>    <span class="number">0</span></code></pre>
</li>
</ul>
<h2>Wifiのhiccup（しゃっくり）を直す</h2>
<p><a href="http://askubuntu.com/questions/286079/rtl8188cu-usb-network-adaptor-on-ubuntu-13-04">http://askubuntu.com/questions/286079/rtl8188cu-usb-network-adaptor-on-ubuntu-13-04</a></p>
<p>12.10の頃からの症状ですが，Ubuntuが用意するRTL8192CUドライバの調子が悪いせいでWifi接続が一定の時間経過後に切れてしまいます．12.10ではRealteckで公開されている古いバージョンを導入すると直ったのですが，13.04ではダメな模様．そのかわり<a href="https://code.google.com/p/realtek-8188cus-wireless-drivers-3444749-ubuntu-1304/">こちら</a>で公開されている修正パッチを当てたものを導入すれば問題なく使えるようになりました．</p>
<ul>
<li><p>rtl8192cuドライバが使用されているか確認する</p>
<pre><code>  <span class="variable">$ </span>lsmod | grep <span class="number">8192</span></code></pre>
<p><code>rtl8192cu</code>などの情報が帰ってくればOK．</p>
</li>
<li><p><a href="https://code.google.com/p/realtek-8188cus-wireless-drivers-3444749-ubuntu-1304/downloads/list">こちら</a>からrtl8192cu-tjp-dkms_1.6_all.debをダウンロードしたらインストールする．</p>
<pre><code>  dpkg -<span class="built_in">i</span> ~/Downloads/rtl8192cu-tjp-<span class="transposed_variable">dkms_1.</span><span class="number">6</span><span class="transposed_variable">_all.</span>deb</code></pre>
</li>
<li><p><code>/etc/modprobe.d/blacklist.conf</code>に以下を加えて，Ubuntuが用意したドライバを使用させないようにする．</p>
<pre><code>  <span class="comment"># Blacklist native RealTek 8188CUs drivers</span>
  <span class="title">blacklist</span> rtl8192cu
  blacklist rtl8192c_common
  blacklist rtlwifi</code></pre>
</li>
</ul>
<h2>ファン制御を設定する</h2>
<p>まず<code>lm-sensors</code>と<code>fancontrol</code>をインストールします．</p>
<pre><code>$ su<span class="operator"><span class="keyword">do</span> apt-<span class="keyword">get</span> install lm-sensors fancontrol</code></pre>
<p>次を実行してセンサーを検出します．</p>
<pre><code><span class="variable">$ </span>sensors-detect</code></pre>
<p>いろいろ聞かれますがだいたいイエスでOK．完了したら再起動をして次を実行します．(再起動なしではno pwm-capable sensorsというエラーが出ることがあります．)</p>
<pre><code><span class="char">$ </span>sudo service fancontrol stop // ファン制御が動いていないことを確認
<span class="char">$ </span>sudo pwmconfig</code></pre>
<p>あとは応答する形でファン制御設定をしていけばOK．</p>
<h2>burg(ブートローダ)とPlymouth(スプラッシュスクリーン)を設定</h2>
<ul>
<li><h3>burgを設定する</h3>
<a href="http://iaarchiver.net/post/2011-12-29-1200">burgのインストール</a></li>
</ul>
<pre><code>$ su<span class="operator"><span class="keyword">do</span> <span class="keyword">add</span>-apt-repository ppa:n-muench/burg
$ sudo apt-<span class="keyword">get</span> <span class="keyword">update</span>
$ sudo apt-<span class="keyword">get</span> install burg</code></pre>
<p>MBRで指定している起動ディスク（<code>/dev/sda</code>）へBurgを設定します．</p>
<pre><code>$ su<span class="operator"><span class="keyword">do</span> burg-install <span class="string">"/dev/sda"</span>
$ sudo <span class="keyword">update</span>-burg</code></pre>
<p>起動をエミュレートして確認します．</p>
<pre><code>$ su<span class="operator"><span class="keyword">do</span> burg-emu -D</code></pre>
<p>burgのローディング画面で<code>t</code>を押すとテーマの選択ができます．（その他コマンドは<code>h</code>で確認できます．）独自にテーマを用意する場合は<code>/boot/burg/themes</code>に置いておく必要があります．</p>
<ul>
<li><h3>Plymouthを設定する</h3>
<a href="http://www.ubunturoot.com/2010/08/paw-ubuntu-and-os-x-like-plymouth-theme.html">http://www.ubunturoot.com/2010/08/paw-ubuntu-and-os-x-like-plymouth-theme.html</a></li>
</ul>
<p>テーマのインストールと設定は上記参照．</p>
<p><strong>テーマが適用されない場合</strong><br>解像度が対応していないことが原因である可能性があります．そこで予め解像度を指定してやります．</p>
<pre><code>$ su<span class="operator"><span class="keyword">do</span> gedit /etc/<span class="keyword">default</span>/burg
// grubを使用している場合は /etc/<span class="keyword">default</span>/grub</code></pre>
<p>以下を追加します．</p>
<pre><code><span class="setting">GRUB_GFXPAYLOAD_LINUX=<span class="value"><span class="string">"1024x768"</span></span></span></code></pre>
<p>その後コンソールから</p>
<pre><code>$ su<span class="operator"><span class="keyword">do</span> <span class="keyword">update</span>-burg</code></pre>

  </div>

  <div class="navigation">
      
        <span class="newer"><a href="/posts/2013-07-11-2152.html">&#8672;&nbsp;newer</a></span>
      
      
        <span class="older"><a href="/posts/2013-07-09-1703.html">older&nbsp;&#8674;</a></span>
      
    </div>
  <div class="comments">
    
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        window.disqus_identifier="";
        window.disqus_url="http://iaarchiver.github.io/posts/2013-07-11-2000.html";
        window.disqus_title="Ubuntu13.04インストールおぼえがき";
      </script>
        <script type="text/javascript" src="http://disqus.com/forums/iaarchiver/embed.js"></script>
        <noscript><a href="http://iaarchiver.disqus.com/?url=ref">View the discussion thread.</a></noscript>
    
  </div>
</div>


      <div class="footer">
      Copyright iaarchiver, 2013.
      </div>
    </div>
    <!-- [END] .wrapper -->

    <!-- load JS -->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script type="text/javascript" src="/scripts.js"></script>
  </body>
</html>
